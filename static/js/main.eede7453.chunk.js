(this.webpackJsonppathfinding=this.webpackJsonppathfinding||[]).push([[0],{14:function(t,e,n){t.exports=n(26)},19:function(t,e,n){},26:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),r=n(10),s=n.n(r),o=(n(19),n(2)),c=n.n(o),l=n(11),u=n(8),d=n(3),h=n(4),p=n(1),f=n(6),m=n(5),g=(n(21),n(12)),v=n.n(g),b=[{background:"#eee",color:"#000",transform:"scale(1.0)"},{background:"#000",color:"#000",transform:"scale(1.0)"},{background:"#d2ff4a",transform:"scale(1.0)",textContent:"s"},{background:"#fcba03",transform:"scale(1.0)",textContent:"e"},{background:"#38ffc7",transform:"scale(0.2)"},{background:"#f05e54",transform:"scale(1.0)"},{background:"#38ffc7",transform:"scale(1.0)"}],y=1,x=2,k=3,S=4,E=0,w=1,O=2,z=3,C=4,j=5,A=0,M=1,B=2,I="Please add a start node.",R="Please add an end node.",D=[[-1,0],[0,1],[1,0],[0,-1]],V=function(t){Object(f.a)(n,t);var e=Object(m.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var t=this,e="Run! ",n="play-sharp";return this.props.visualizationState===M?(e="Skip visualization",n="play-forward-sharp"):this.props.visualizationState===B&&(e="Clear route",n="refresh-sharp"),i.a.createElement("div",{className:"topBar"},i.a.createElement("div",null,i.a.createElement("label",null,"Algorithm: "),i.a.createElement("select",{name:"algorithms",id:"algorithms",onChange:this.props.changeSelectedAlgorithm,disabled:this.props.visualizationState!==A},i.a.createElement("option",{value:y},"A*"),i.a.createElement("option",{value:x},"Dijkstra"),i.a.createElement("option",{value:k},"BFS"),i.a.createElement("option",{value:S},"DFS"))),i.a.createElement("div",{className:"sliderContainer"},i.a.createElement("label",null,"Visualization speed:"),i.a.createElement(v.a,{min:10,max:100,value:this.props.visualizationSpeed,onChange:function(e){return t.props.changeVisSpeed(e.target.value)}})),i.a.createElement("button",{type:"button",className:"settingsButton",disabled:this.props.visualizationState===M,onClick:function(){return t.props.onMazeClick()}},"Generate maze"),i.a.createElement("button",{type:"button",className:"resetButton",disabled:this.props.visualizationState===M,onClick:function(){return t.props.onResetClick(!0)}},i.a.createElement("ion-icon",{name:"trash-sharp"}),"Reset grid"),i.a.createElement("button",{style:this.props.visualizationState!==A?{background:"#eee"}:null,type:"button",className:"settingsButton",onClick:this.props.onClick},i.a.createElement("ion-icon",{name:n}),e))}}]),n}(i.a.Component),F=n(7);var T=function(t){var e=Object(a.useState)(),n=Object(F.a)(e,2)[1],r=function(){n({})},s=Object(a.useRef)();return t.cell.ref=s,i.a.createElement("button",{ref:s,type:"button",className:"gridButton",onMouseDown:function(){t.disableDrawing||(t.clickFunction(t.x,t.y),r())},onMouseOver:function(){t.drawing&&!t.disableDrawing&&(t.clickFunction(t.x,t.y),r())}},"\u200e")},G=function(t){Object(f.a)(n,t);var e=Object(m.a)(n);function n(){var t;return Object(d.a)(this,n),(t=e.call(this)).state={drawing:!1,runningAlgorithm:!1},t}return Object(h.a)(n,[{key:"handleMouse",value:function(t,e){this.setState({drawing:e})}},{key:"render",value:function(){var t=this,e=-1,n=this.props.grid.map((function(n){var a=-1;e++;var r=n.map((function(n){return a++,i.a.createElement("td",{key:a},i.a.createElement(T,{cell:t.props.grid[e][a],x:a,y:e,clickFunction:t.props.updateCell,drawing:t.state.drawing,disableDrawing:t.props.disableDrawing}))}));return i.a.createElement("tr",{key:e},r)}));return i.a.createElement("table",{className:"gridBase",onMouseDown:function(e){t.handleMouse(e,!0)},onMouseLeave:function(e){return t.handleMouse(e,!1)},onMouseUp:function(e){return t.handleMouse(e,!1)}},i.a.createElement("tbody",null,n))}}]),n}(i.a.Component),N=n(13);var P=function(t){var e={display:"table-row"};return t.parentHidden&&(e.display="none"),t.disabled&&(e.boxShadow="none",e.border="2px solid transparent"),i.a.createElement(N.a,{trigger:i.a.createElement("button",{className:"itemBarBtn",style:e,onClick:t.onClick},i.a.createElement("span",{style:{color:t.color}},"\u25a0 "),t.text?i.a.createElement("p",{id:"itemBarText"},t.text):"item"),position:"right center",closeOnDocumentClick:!0,open:t.showTip,on:"none",onClose:t.onTipClosed},t.tipText)};var H=function(t){var e=Object(a.useState)(!0),n=Object(F.a)(e,2),r=n[0],s=n[1],o=!r||t.hidden;return i.a.createElement("div",{style:{height:"100%",zIndex:10}},i.a.createElement("button",{className:"itemBarToggle",onClick:function(){t.hidden||s(!r)}},"Items",i.a.createElement("ion-icon",{name:o?"caret-down-outline":"caret-up-outline",style:{paddingLeft:20,marginBottom:-4}})),i.a.createElement("div",{className:"itemBar",style:o?{height:"0%",opacity:0}:{height:"20vh",opacity:100}},i.a.createElement(P,{parentHidden:!r,text:"Start node",color:"#d2ff4a",disabled:t.selectedItem!==O,onClick:function(){t.changeSelectedItem(O)},showTip:t.activeAlert===I,tipText:t.activeAlert,onTipClosed:t.removeAlert}),i.a.createElement(P,{parentHidden:!r,text:"End node",color:"#fcba03",disabled:t.selectedItem!==z,onClick:function(){t.changeSelectedItem(z)},showTip:t.activeAlert===R,tipText:t.activeAlert,onTipClosed:t.removeAlert}),i.a.createElement(P,{parentHidden:!r,text:"Wall",color:"#000",disabled:t.selectedItem!==w,onClick:function(){return t.changeSelectedItem(w)}}),i.a.createElement(P,{parentHidden:!r,text:"Eraser",color:"#fff",disabled:t.selectedItem!==E,onClick:function(){return t.changeSelectedItem(E)}})))};function J(t){return new Promise((function(e){return setTimeout(e,t)}))}function L(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.current.style.background=t.background,e.current.style.transform=t.transform,t.textContent&&(e.current.textContent=t.textContent),n&&n(e)}var W=function(t){Object(f.a)(n,t);var e=Object(m.a)(n);function n(){var t;return Object(d.a)(this,n),(t=e.call(this)).grid=[],t.start=null,t.end=null,t.route=[],t.state={algorithm:y,item:O,activeAlert:null,visualizationState:A,visualizationSpeed:90},t.drawOnGrid=t.drawOnGrid.bind(Object(p.a)(t)),t.changeAlgorithm=t.changeAlgorithm.bind(Object(p.a)(t)),t.changeItem=t.changeItem.bind(Object(p.a)(t)),t.onRunButtonClick=t.onRunButtonClick.bind(Object(p.a)(t)),t.updateRoute=t.updateRoute.bind(Object(p.a)(t)),t.clearVisualization=t.clearVisualization.bind(Object(p.a)(t)),t.removeAlert=t.removeAlert.bind(Object(p.a)(t)),t.changeVisSpeed=t.changeVisSpeed.bind(Object(p.a)(t)),t.createGrid=t.createGrid.bind(Object(p.a)(t)),t.generateMaze=t.generateMaze.bind(Object(p.a)(t)),t.algFunctions={1:t.aStarPlus.bind(Object(p.a)(t)),2:t.BFS.bind(Object(p.a)(t)),3:t.BFS.bind(Object(p.a)(t)),4:t.DFS.bind(Object(p.a)(t))},t}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.createGrid()}},{key:"createGrid",value:function(){for(var t=Math.floor(.7*window.innerHeight/20),e=Math.floor(.65*window.innerWidth/20),n=[],a=0;a<t;a++){n.push([]);for(var i=0;i<e;i++)n[a].push({type:E,weight:0,x:i,y:a,ref:null})}this.grid=n,this.setState({})}},{key:"changeItem",value:function(t){this.setState({item:t})}},{key:"changeAlgorithm",value:function(t){this.setState({algorithm:parseInt(t.target.value)})}},{key:"removeAlert",value:function(){this.setState({activeAlert:null})}},{key:"changeVisSpeed",value:function(t){this.setState({visualizationSpeed:t})}},{key:"onRunButtonClick",value:function(){var t=this,e=this.start,n=this.end;null!==e?null!==n?this.state.visualizationState===M?this.setState({visualizationState:B}):this.state.visualizationState===B?this.clearVisualization():this.setState({start:e,end:n,visualizationState:M},(function(){return t.algFunctions[t.state.algorithm](t.grid[e.y][e.x],t.grid[n.y][n.x])})):this.setState({activeAlert:R}):this.setState({activeAlert:I})}},{key:"updateRoute",value:function(t){var e=this;this.setState((function(){return t?(e.route.map((function(t){return L(b[j],e.grid[t.y][t.x].ref),e.grid[t.y][t.x].type=j})),{visualizationState:M}):{}}),(function(){e.setState({visualizationState:B})}))}},{key:"drawOnGrid",value:function(t,e){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state.item,i=function(t){var e=t.x,a=t.y;n.grid[a][e].type=E,L(b[E],n.grid[a][e].ref),n.grid[a][e].ref.current.textContent="\u200e"};this.end&&this.end.x===t&&this.end.y===e?(i(this.end),this.end=null):this.start&&this.start.x===t&&this.start.y===e&&(i(this.start),this.start=null),a===O?(this.start&&i(this.start),this.start={x:t,y:e}):a===z&&(this.end&&i(this.end),this.end={x:t,y:e}),this.grid[e][t].type=a,L(b[a],this.grid[e][t].ref)}},{key:"generateMaze",value:function(){var t=this;this.clearVisualization(),this.grid.forEach((function(t){t.forEach((function(t){t.type=w}))}));for(var e=[this.grid[1][1]],n=function(){var n=Math.floor(Math.random()*e.length),a=e[n];(function(e){var n=0;return!!e&&(D.forEach((function(a){var i=e.x+a[0],r=e.y+a[1];t.grid[r]&&t.grid[r][i]&&t.grid[r][i].type===E&&(n+=1)})),n<=1)})(a)&&(a.type=E,D.forEach((function(n){var i=a.x+n[0],r=a.y+n[1];t.grid[r]&&t.grid[r][i]&&e.push(t.grid[r][i])}))),e.splice(n,1)};e.length;)n();this.grid.forEach((function(e){e.forEach((function(e){t.drawOnGrid(e.x,e.y,e.type)}))}))}},{key:"aStarPlus",value:function(){var t=Object(u.a)(c.a.mark((function t(e,n){var a,i,r,s,o,u,h,p,f=this,m=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=m.length>2&&void 0!==m[2]?m[2]:y,i=!1,s=function(t,e){return t.gScore>e.gScore?1:-1},(o=[]).push(new(r=function t(e,n,a,i){Object(d.a)(this,t),this.x=e,this.y=n,this.distance=a,this.gScore=i})(e.x,e.y,0,0)),u=Object(l.a)({},e.x+":"+e.y,null),h=this.grid,p=c.a.mark((function t(){var l,d;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((l=o.shift()).x!==n.x||l.y!==n.y){t.next=4;break}return i=!0,t.abrupt("return","break");case 4:if(D.forEach((function(t){var i=l.x+t[0],s=l.y+t[1];if(h[s]&&h[s][i]){var c=h[s][i];if(c.type!==w&&(c.x!==e.x||c.y!==e.y)){u[i+":"+s]||(u[i+":"+s]={x:l.x,y:l.y,d:9999});var d=l.distance+1,p=d+1*(Math.abs(n.x-i)+Math.abs(n.y-s));d<u[i+":"+s].d&&(u[i+":"+s]={x:l.x,y:l.y,d:d},a!==S?o.push(new r(i,s,d,p)):o.unshift(new r(i,s,d,p)))}}})),(d=h[l.y][l.x]).type===O||d.type===C){t.next=15;break}if(d.type=C,f.state.visualizationState!==M){t.next=14;break}return t.next=11,J(Math.abs(f.state.visualizationSpeed-110));case 11:L(b[C],d.ref,(function(t){J(400).then((function(){t.current.style.transform="scale(1.0)"}))})),t.next=15;break;case 14:L(b[6],d.ref);case 15:a===y&&o.sort(s);case 16:case"end":return t.stop()}}),t)}));case 9:if(!o.length){t.next=16;break}return t.delegateYield(p(),"t0",11);case 11:if("break"!==t.t0){t.next=14;break}return t.abrupt("break",16);case 14:t.next=9;break;case 16:if(i&&this.setRoute(u,n),this.state.visualizationState!==M){t.next=20;break}return t.next=20,J(100);case 20:this.updateRoute(i);case 21:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"DFS",value:function(){var t=Object(u.a)(c.a.mark((function t(e,n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.aStarPlus(e,n,S);case 1:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"BFS",value:function(){var t=Object(u.a)(c.a.mark((function t(e,n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.aStarPlus(e,n,k);case 1:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"clearVisualization",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.route=[],this.setState((function(){return t.grid.map((function(n){return n=n.map((function(n){return t.start&&n.x===t.start.x&&n.y===t.start.y?n.type=O:t.end&&n.x===t.end.x&&n.y===t.end.y?n.type=z:(e||n.type===C||n.type===j)&&(L(b[E],n.ref),n.type=E),n}))})),{visualizationState:A}})),e&&(this.start&&(this.grid[this.start.y][this.start.x].ref.current.textContent="\u200e"),this.end&&(this.grid[this.end.y][this.end.x].ref.current.textContent="\u200e"),this.start=null,this.end=null)}},{key:"setRoute",value:function(t,e){this.route.push({x:e.x,y:e.y});for(var n=e.x+":"+e.y;null!==t[n];)this.route.push(t[n]),n=t[n].x+":"+t[n].y;console.log("Route length: "+this.route.length),this.route.shift(),this.route.pop()}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(V,{changeSelectedAlgorithm:this.changeAlgorithm,onClick:this.onRunButtonClick,onMazeClick:this.generateMaze,onResetClick:this.clearVisualization,visualizationState:this.state.visualizationState,changeVisSpeed:this.changeVisSpeed,visualizationSpeed:this.state.visualizationSpeed,activeAlert:this.state.activeAlert}),i.a.createElement("span",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"row",topMargin:"100",position:"fixed",padding:"0px 0px"}},i.a.createElement(H,{changeSelectedItem:this.changeItem,selectedItem:this.state.item,hidden:this.state.visualizationState!==A,activeAlert:this.state.activeAlert,removeAlert:this.removeAlert}),i.a.createElement(G,{updateCell:this.drawOnGrid,selectedItem:this.state.item,grid:this.grid,disableDrawing:this.state.visualizationState!==A})))}}]),n}(i.a.Component);s.a.render(i.a.createElement(W,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.eede7453.chunk.js.map